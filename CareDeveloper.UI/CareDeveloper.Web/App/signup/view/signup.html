<h1 class="page-header">Signup</h1>

<div class="page-content">
    <div class="" ng-if="formSubmittedToServer">

        <div ng-if="!isRegistrationSuccess" class="alert alert-dismissable alert-danger">
            <button type="button" class="close" data-dismiss="alert">×</button>
            <p ng-bind-html="message"></p>
        </div>

        <div ng-if="isRegistrationSuccess" class="alert alert-dismissable alert-success">
            <button type="button" class="close" data-dismiss="alert">×</button>
            <p>Successfully registered. please click here to <a ui-sref='signin'>sign in</a></p>
        </div>
        
    </div>

    <form ng-show="!isRegistrationSuccess" class="form-horizontal" role="form" name="userRegistration" novalidate>
        <div class="form-group">
            <!-- Name : Empty validation -->
            <div class="col-sm-offset-2" ng-show="formSubmitted && userRegistration.fullName.$error.required">
                <p class="err-msg">Please enter your name</p>
            </div>

            <label class="col-sm-2 control-label">Name</label>
            <div class="col-sm-6">
                <input ng-model="fullName" name="fullName" type="text" class="form-control" placeholder="Name" required>
            </div>
        </div>
        <div class="form-group">
            <!-- Email : Empty Validation -->
            <div class="col-sm-offset-2" ng-show="formSubmitted && userRegistration.email.$error.required">
                <p class="err-msg">Please enter your email</p>
            </div>

            <!-- Email : Email verification -->
            <div class="col-sm-offset-2" ng-show="formSubmitted && userRegistration.email.$error.email">
                <p class="err-msg">Please enter valid email</p>
            </div>

            <label class="col-sm-2 control-label">Email</label>
            <div class="col-sm-6">
                <input ng-model="email" name="email" type="email" class="form-control" placeholder="Email" required>
            </div>
        </div>
        <div class="form-group">
            <!-- Password : Empty validation -->
            <div class="col-sm-offset-2" ng-show="formSubmitted && userRegistration.password.$error.required">
                <p class="err-msg">Please enter password</p>
            </div>

            <!-- Password Match :  -->
            <div class="col-sm-offset-2" ng-show="formSubmitted && userRegistration.password.$error.appFieldEquals">
                <p class="err-msg">Password mismatch</p>
            </div>

            <label for="inputPassword3" class="col-sm-2 control-label">Password</label>
            <div class="col-sm-6">
                <input name="password" app-field-equals="{{retypePassword}}" ng-model="password" type="password" class="form-control" placeholder="Password" required>
            </div>
        </div>
        <div class="form-group">
            <!-- Password : Empty validation -->
            <div class="col-sm-offset-2" ng-show="formSubmitted && userRegistration.retypePassword.$error.required">
                <p class="err-msg">Please re-enter password</p>
            </div>

            <!-- Password Match :  -->
            <div class="col-sm-offset-2" ng-show="formSubmitted && userRegistration.retypePassword.$error.appFieldEquals">
                <p class="err-msg">Password mismatch</p>
            </div>

            <label for="inputPassword3" class="col-sm-2 control-label">Retype Password</label>
            <div class="col-sm-6">
                <input name="retypePassword" app-field-equals="{{password}}" ng-model="retypePassword" type="password" class="form-control" placeholder="Retype Password" required>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2" ng-show="formSubmitted && userRegistration.gender.$error.required">
                <p class="err-msg">Please select your gender</p>
            </div>
            <label class="control-label col-sm-2">Gender</label>
            <div class="col-sm-2">
                <div class="checkbox">
                    <label>
                        <input value="male" ng-model="gender" type="radio" name="gender" required> Male
                    </label>
                </div>
            </div>
            <div class="col-sm-2">
                <div class="checkbox">
                    <label>
                        <input value="female" ng-model="gender" type="radio" name="gender" required> Female
                    </label>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-6">
                <button ng-click="btnSignupClick()" type="submit" class="btn btn-default">Signup</button>
            </div>
        </div>
    </form>
</div>